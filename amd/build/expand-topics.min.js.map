{"version":3,"file":"expand-topics.min.js","sources":["../src/expand-topics.js"],"sourcesContent":["const waitForElements = () => {\n    const courseIndexButtons = document.querySelectorAll('.courseindex-section');\n\n    if (courseIndexButtons.length > 0) {\n        // Add listeners.\n        courseIndexButtons.forEach(function (button) {\n            button.addEventListener('click', handleButtonClick);\n        });\n    } else {\n        // Elements not loaded yet.\n        setTimeout(waitForElements, 250);\n    }\n};\n\nconst handleButtonClick = function (event) {\n    event.preventDefault();\n\n    // Extract the section id from the URL.\n    const url = this.href;\n    const sectionNumber = url.match(/#section-(\\d+)/)[1];\n\n    // Expand relevant section if needed.\n    const courseContentCollapse = document.getElementById(`coursecontentcollapse${sectionNumber}`);\n    const collapseSection = document.getElementById(`collapssesection${sectionNumber}`);\n\n    if (courseContentCollapse && !courseContentCollapse.classList.contains('show')) {\n        courseContentCollapse.classList.add('show');\n    }\n\n    if (collapseSection && collapseSection.classList.contains('collapsed')) {\n        collapseSection.classList.remove('collapsed');\n    }\n\n    // Go to section.\n    const courseSection = document.getElementById(`section-${sectionNumber}`);\n    courseSection.scrollIntoView({ behavior: 'smooth' });\n};\n\n// Only want to execute on topics view.\nconst expandTopics = () => {\n    if (document.getElementById('page-course-view-topics')) {\n        waitForElements();\n    } else {\n        console.log('#page-course-view-topics is not in the body');\n    }\n};\n\nexport const init = () => {\n    expandTopics();\n};"],"names":["waitForElements","courseIndexButtons","document","querySelectorAll","length","forEach","button","addEventListener","handleButtonClick","setTimeout","event","preventDefault","sectionNumber","this","href","match","courseContentCollapse","getElementById","collapseSection","classList","contains","add","remove","scrollIntoView","behavior","_exports","init","console","log"],"mappings":"wJAAA,MAAMA,gBAAkBA,KACpB,MAAMC,mBAAqBC,SAASC,iBAAiB,wBAEjDF,mBAAmBG,OAAS,EAE5BH,mBAAmBI,SAAQ,SAAUC,QACjCA,OAAOC,iBAAiB,QAASC,sBAIrCC,WAAWT,gBAAiB,MAI9BQ,kBAAoB,SAAUE,OAChCA,MAAMC,iBAGN,MACMC,cADMC,KAAKC,KACSC,MAAM,kBAAkB,GAG5CC,sBAAwBd,SAASe,eAAgB,wBAAuBL,iBACxEM,gBAAkBhB,SAASe,eAAgB,mBAAkBL,iBAE/DI,wBAA0BA,sBAAsBG,UAAUC,SAAS,SACnEJ,sBAAsBG,UAAUE,IAAI,QAGpCH,iBAAmBA,gBAAgBC,UAAUC,SAAS,cACtDF,gBAAgBC,UAAUG,OAAO,aAIfpB,SAASe,eAAgB,WAAUL,iBAC3CW,eAAe,CAAEC,SAAU,YAc3CC,SAAAC,KAFkBA,KAPZxB,SAASe,eAAe,2BACxBjB,kBAEA2B,QAAQC,IAAI,8CAKF,CAChB"}